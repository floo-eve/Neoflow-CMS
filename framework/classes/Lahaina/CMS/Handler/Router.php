<?phpnamespace Neoflow\CMS\Handler;use \Exception;use \Neoflow\CMS\Mapper\ModuleMapper;use \Neoflow\Framework\HTTP\Responsing\Response;class Router extends \Neoflow\Framework\Handler\Router{    /**     * Load routes     *     * @return self     */    public function loadRoutes()    {        parent::loadRoutes();        // Run route files of modules        $moduleMapper = new ModuleMapper();        $modules = $moduleMapper->findAll();        foreach ($modules as $module) {            $moduleRoutesFile = $module->getPath('/routes.php');            $this->runRouteFile($moduleRoutesFile);        }        return $this;    }    /**     * Start routing.     *     * @return Response     */    public function startRouting()    {        try {            return parent::startRouting();        } catch (Exception $ex) {            while (ob_get_level() > 1) {                ob_end_clean();            }            $this->getLogger()->error($ex->getMessage(), array(                'code' => $ex->getCode(),                'file' => $ex->getFile(),                'line' => $ex->getLine(),                'stack trace' => $ex->getTraceAsString())            );            $errorRoute = $this->getRouteByKey('frontend_error');            return $this->route($errorRoute, array($ex));        }    }}