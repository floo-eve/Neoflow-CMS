(function () {    $('nav.sidebar').each(function () {        var $navSidebar = $(this);        $navSidebar.perfectScrollbar({            theme: 'lahaina'        });        $navSidebar.find('ul.sidebar-nav').metisMenu({            activeClassOnComplete: false        });    });    $('select').select2({        theme: 'bootstrap',        minimumResultsForSearch: -1,        templateResult: function (item) {            if (item.hasOwnProperty('element') && $(item.element).data('level')) {                var level = $(item.element).data('level');                return $('<span style="padding-left:' + (20 * parseInt(level)) + 'px;">' + item.text + '</span>');            }            return item.text;        }    }).focus(function () {        $(this).select2('open');    });    $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {        event.preventDefault();        event.stopPropagation();        $(this).parent().siblings().removeClass('open');        $(this).parent().toggleClass('open');    });})();(function () {    $('.alert-success-disabled').delay(3000).animate({        height: 0,        paddingTop: 0,        paddingBottom: 0,        marginBottom: 0,        opacity: 0    }, 2000, function () {        $(this).addClass('closed');    });})();(function () {    var $nestable = $('#nestable'),            $nestableSaveOrderBtn = $('#nestableSaveOrderBtn'),            $nestableResetOrderBtn = $('#nestableResetOrderBtn');    $nestable.nestable({        rootClass: 'nestable',        listClass: 'nestable-list',        itemClass: 'nestable-item',        placeClass: 'nestable-placeholder',        dragClass: 'nestable-dragging',        handleClass: 'nestable-handle',        expandBtnHTML: '<button class="btn btn-link btn-xs" data-action="expand"><i class="fa fa-plus fa-fw"></i></button>',        collapseBtnHTML: '<button class="btn btn-link btn-xs" data-action="collapse"><i class="fa fa-minus fa-fw"></i></button>',    }).on('change', function () {        $.ajax({            type: 'POST',            url: $(this).data('save-url'),            data: JSON.stringify($(this).nestable('serialize')),            success: function () {//                $nestableSaveOrderBtn.addClass('disabled');//                $nestableResetOrderBtn.addClass('disabled');//                location.reload();            },            contentType: 'application/json',            dataType: 'json'        });//        $nestableSaveOrderBtn.removeClass('disabled');//        $nestableResetOrderBtn.removeClass('disabled');    });    $nestableResetOrderBtn.on('click', function (e) {        e.preventDefault();        location.reload();    });    $nestableSaveOrderBtn.on('click', function (e) {        e.preventDefault();        $.ajax({            type: 'POST',            url: $nestableSaveOrderBtn.prop('href'),            data: JSON.stringify($nestable.nestable('serialize')),            success: function () {                $nestableSaveOrderBtn.addClass('disabled');                $nestableResetOrderBtn.addClass('disabled');                location.reload();            },            contentType: 'application/json',            dataType: 'json'        });        $nestableSaveOrderBtn.blur();    });})();