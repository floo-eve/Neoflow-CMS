<?phpnamespace Neoflow\CMS\Controller\Backend;use Neoflow\CMS\Controller\BackendController;use Neoflow\CMS\Model\PermissionModel;use Neoflow\CMS\Model\RoleModel;use Neoflow\Framework\Handler\Validation\ValidationException;use Neoflow\Framework\HTTP\Responsing\Response;use Neoflow\Helper\Alert\DangerAlert;use Neoflow\Helper\Alert\SuccessAlert;class RoleController extends BackendController{    /**     * Constructor     */    public function __construct()    {        parent::__construct();        $this->view            ->setTitle('Accounts')            ->setSubtitle('Roles');    }    /**     * Index action     *     * @param array $args     * @return Response     */    public function indexAction($args)    {        // Get permissions        $permissions = PermissionModel::findAll();        // Get roles        $roles = RoleModel::findAll();        return $this->render('backend/role/index', array(                'permissions' => $permissions,                'roles' => $roles        ));    }    /**     * Create role action     *     * @param array $args     * @return Response     */    public function createAction($args)    {        try {            // Get post data            $postData = $this->getRequest()->getPostData();            // Create role            $role = RoleModel::create(array(                    'title' => $postData->get('title'),                    'description' => $postData->get('description'),                    'permission_ids' => $postData->get('permission_ids')            ));            if ($role) {                $this->setFlash('alert', new SuccessAlert('{0} successful created', array('Role')));            } else {                $this->setFlash('alert', new DangerAlert('Create failed'));            }        } catch (ValidationException $ex) {            $this->setFlash('alert', new DangerAlert($ex->getErrors()));        }        return $this->redirectToRoute('role_index');    }}